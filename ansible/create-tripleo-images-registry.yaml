---
# This playbook will handle those tasks:
#   - install require pkgs
#   - create local registry
#   - prepare local registry images tarball for offline

# install requirement
- hosts: localhost
  gather_facts: no
  roles:
    - role: create-local-registry
      vars:
        - prepare: true
  tasks:
    - name: install docker-py
      pip:
        name: docker-py

# pull and push to create local registry
- hosts: localhost
  gather_facts: no
  become: true
  roles:
    - role: prepare-images
    - role: create-local-registry
      vars:
        create_by_tar: false
